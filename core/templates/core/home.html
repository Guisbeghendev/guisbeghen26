{% extends "base.html" %}
{% load static %}

{% block title %}GuiSbeghen{% endblock %}

{% block content %}
<div class="bg-black text-white">

    {# HEADER LOGO #}
    <section class="py-1">
        <div class="container mx-auto px-1 text-center">
            <img src="{% static 'images/logo_horiz7.png' %}" alt="Guisbeghen" class="mx-auto h-[200px] md:h-[350px] w-auto">
        </div>
    </section>

    {# CONTAINER 1: NAVEGAÇÃO PRINCIPAL #}
    <section class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8">
            {# GESTÃO (CONDICIONAL) #}
            {% if user.is_authenticated and user.profile.is_fotografo or user.profile.is_admin_projeto or user.is_superuser %}
            <a href="{% url 'repositorio:painel_gestao' %}" class="bg-surface p-4 md:p-8 rounded-lg border border-primary-purple/30 hover:border-primary-purple transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-cog text-2xl md:text-3xl text-primary-purple mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Gestão</h3>
            </a>
            {% endif %}

            {# galerias publicas #}
            <a href="{% url 'galerias:index' %}?trilha=publica" class="bg-surface p-4 md:p-8 rounded-lg border border-silver/10 hover:border-silver transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-camera-retro text-2xl md:text-3xl text-primary-purple mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Galerias públicas</h3>
            </a>

            {# galerias exclusivas #}
            {% if user.is_authenticated %}
            <a href="{% url 'galerias:index' %}?trilha=exclusiva" class="bg-surface p-4 md:p-8 rounded-lg border border-silver/10 hover:border-silver transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-user-lock text-2xl md:text-3xl text-primary-purple mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Galerias Exclusivas</h3>
            </a>
            {% else %}
            <a href="{% url 'users:login' %}" class="bg-surface p-4 md:p-8 rounded-lg border border-silver/10 opacity-50 grayscale hover:grayscale-0 transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-lock text-2xl md:text-3xl text-silver/50 mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Galerias Exclusivas</h3>
            </a>
            {% endif %}

            {# perfil #}
            <a href="{% url 'perfil:index' %}" class="bg-surface p-4 md:p-8 rounded-lg border border-silver/10 hover:border-silver transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-id-card text-2xl md:text-3xl text-primary-purple mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Perfil</h3>
            </a>

            {# historia #}
            <a href="{% url 'historia:index' %}" class="bg-surface p-4 md:p-8 rounded-lg border border-silver/10 hover:border-silver transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-book-open text-2xl md:text-3xl text-primary-purple mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Historia</h3>
            </a>

            {# contato #}
            <a href="{% url 'contato:index' %}" class="bg-surface p-4 md:p-8 rounded-lg border border-silver/10 hover:border-silver transition-all group text-center flex flex-col items-center justify-center">
                <i class="fas fa-envelope text-2xl md:text-3xl text-primary-purple mb-4"></i>
                <h3 class="text-lg md:text-2xl font-bold uppercase tracking-tighter">Contato</h3>
            </a>
        </div>
    </section>

    {# CONTAINER 2: ÚLTIMAS GALERIAS PÚBLICAS #}
    {% if ultimas_publicas %}
    <section class="container mx-auto px-4 py-8">
        <h2 class="text-xs font-bold text-silver uppercase tracking-[0.2em] mb-6 flex items-center gap-2">
            <span class="w-8 h-[1px] bg-primary-purple"></span> Novidades Públicas
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {% for galeria in ultimas_publicas %}
            <a href="{% url 'galerias:detalhe_galeria' galeria.slug %}" class="group relative block aspect-video overflow-hidden rounded-lg bg-surface border border-silver/5">
                {% if galeria.capa %}
                    <img src="{{ galeria.capa.thumbnail.url }}" alt="{{ galeria.titulo }}" class="w-full h-full object-cover opacity-40 group-hover:opacity-60 transition-opacity">
                {% else %}
                    <div class="w-full h-full flex items-center justify-center opacity-10">
                        <i class="fas fa-image text-4xl"></i>
                    </div>
                {% endif %}
                <div class="absolute inset-0 p-4 flex flex-col justify-end bg-gradient-to-t from-black/80 to-transparent">
                    <span class="text-[9px] uppercase font-bold text-primary-purple tracking-widest mb-1">{{ galeria.categoria.nome }}</span>
                    <h3 class="text-white font-bold uppercase text-xs truncate">{{ galeria.titulo }}</h3>
                    <p class="text-silver text-[9px]">{{ galeria.data_evento|date:"d/m/Y" }}</p>
                </div>
            </a>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {# CONTAINER 3: CONVITE / CALL TO ACTION #}
    <section class="bg-surface py-8 md:py-16 mt-6 md:mt-12 border-t border-silver/10 hover:border-silver transition-all group">
        <div class="container mx-auto px-4 text-center flex flex-col items-center">
            <h4 class="text-lg md:text-3xl font-bold mb-6 text-white max-w-2xl uppercase tracking-tighter">
                Acesse seu painel para mensagens, materiais exclusivos e mais informações!
            </h4>

            {% if not user.is_authenticated %}
                <div class="flex flex-row justify-center gap-4 w-full sm:w-auto">
                    <a href="{% url 'users:login' %}" class="flex-1 sm:flex-none bg-white text-black px-4 py-2 md:px-8 md:py-3 rounded font-bold hover:bg-silver transition-all text-sm md:text-base uppercase tracking-widest">
                        Login <i class="fas fa-sign-in-alt ml-1 md:ml-2 text-primary-blue"></i>
                    </a>
                    <a href="{% url 'users:register' %}" class="bg-primary-purple text-white px-4 py-2 md:px-8 md:py-3 rounded font-bold hover:bg-purple-hover transition-all text-sm md:text-base uppercase tracking-widest">
                        Cadastrar <i class="fas fa-user-plus ml-1 md:ml-2"></i>
                    </a>
                </div>
            {% else %}
                <a href="{% url 'users:dashboard' %}" class="bg-white text-black px-8 py-3 rounded font-bold hover:bg-silver transition-all inline-block text-sm md:text-base uppercase tracking-widest">
                    Ir para o Dashboard <i class="fas fa-user-circle ml-2 text-primary-purple"></i>
                </a>
            {% endif %}
        </div>
    </section>

</div>
{% endblock content %}