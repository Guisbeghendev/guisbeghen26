{% extends 'base.html' %}
{% block title %}Nova Senha - GUISBEGHEN{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center px-4">
    <div class="w-full max-w-md bg-surface p-8 rounded-lg card-surface shadow-2xl">
        {% if validlink %}
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-primary-purple mb-2 uppercase tracking-tight">Nova Senha</h1>
                <p class="text-silver text-sm">Defina sua nova credencial de acesso.</p>
            </div>
            <form method="POST" class="space-y-6">
                {% csrf_token %}
                {% for field in form %}
                    <div class="flex flex-col gap-2">
                        <label class="text-silver text-xs font-semibold uppercase tracking-wider">{{ field.label }}</label>
                        {{ field }}
                        {% for error in field.errors %}<span class="text-error text-[11px] italic">{{ error }}</span>{% endfor %}
                    </div>
                {% endfor %}
                <button type="submit" class="w-full bg-primary-blue hover:bg-blue-hover text-white font-bold py-3 rounded transition-all uppercase tracking-widest text-sm">
                    Confirmar Nova Senha
                </button>
            </form>
        {% else %}
            <div class="text-center">
                <i class="fas fa-exclamation-triangle text-error text-5xl mb-6"></i>
                <h1 class="text-xl font-bold text-white uppercase mb-4">Link Inválido</h1>
                <p class="text-silver text-sm mb-8">O link de redefinição expirou ou já foi utilizado.</p>
                <a href="{% url 'users:password_reset' %}" class="bg-primary-purple px-6 py-2 rounded text-white text-xs uppercase tracking-widest">Solicitar Novo Link</a>
            </div>
        {% endif %}
    </div>
</div>
<style>
    input { @apply bg-white border border-silver/40 rounded px-4 py-3 text-black focus:outline-none focus:border-primary-purple transition-all; }
</style>
{% endblock %}